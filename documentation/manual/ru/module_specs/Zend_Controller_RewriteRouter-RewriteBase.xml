<sect1 id="zend.controller.rewriterouter.rewritebase">
	<title>Основной URL и подкаталоги</title>

	<para>
	  В отличие от исходного маршрутизатора (Router), RewriteRouter может
	  использоваться в подкаталогах -- он автоматически определяет ваш основной
	  URL и устанавливает его. Например, если вы держите ваш <code>index.php</code>
	  в подкаталоге веб-сервера <code>/projects/myapp/index.php</code>, то основной
    URL будет установлен в <code>/projects/myapp</code>. Эта строка затем будет
    отсекаться от начала пути перед любым сопоставлением с маршрутом.
    Это освобождает от необходимости добавлять ее к каждому маршруту.
    Маршрут <code>'user/:username'</code> будет соответствовать таким путям, как
    <code>http://localhost/projects/myapp/user/martel</code> и
    <code>http://example.com/user/martel</code>.
<!--
		Unlike the original Router, RewriteRouter can be used in subdirectories - it automatically detects your base URL and
		sets it accordingly. For example: if you keep your <code>index.php</code> in a webserver subdirectory named
		<code>/projects/myapp/index.php</code> rewrite base (base URL) will be set to <code>/projects/myapp</code>. This string will then be 
		stripped from the beginning of the path before calculating any route matches. This frees one from the necessity of prepending it to
		any of your routes. The route of <code>'user/:username'</code> will match URIs like
		<code>http://localhost/projects/myapp/user/martel</code> and <code>http://example.com/user/martel</code>.
-->
	</para>

	<note>
	  Автоматическая замена основы URL чувствительна к регистру, поэтому удостоверьтесь,
	  что ваш URL будет соответствует имени подкаталога в файловой системе
	  (даже под Windows). Если вы не сделаете этого, то в результате может
    вызываться действие <code>noRoute</code>.
<!--
		Automatic rewrite base is case sensitive, so make sure your URL will match a subdirectory name in a filesystem
		(even on Windows machines). If it doesn't you will get to noRoute action.
-->
	</note>

	<para>
	  Если основной URL определяется неправильно, то вы можете заменить его своим
	  с помощью метода <code>setRewriteBase()</code> класса RewriteRouter:  
<!--
		Should rewrite base be detected incorrectly you can override it with your own base path with the help of the
		setRewriteBase method of the RewriteRouter class:
-->
	</para>

	<programlisting role="php"><![CDATA[
$router->setRewriteBase('/projects/myapp');]]></programlisting>

	<note>
	  В большинстве случаев этот шаг не является обязательным и сильно не
    рекомендуется, так как вносит дополнительную переменную конфигурации,
    которая должна изменяться, когда производится перемещение кода в
    другой каталог.
<!--
		This step won't be necessary in most cases and is strongly discouraged as it introduces another configuration variable
		which would have to be altered when one moves code to another directory configuration.
-->
	</note>

</sect1>
<!--
vim:se ts=4 sw=4 et:
-->
